var G=Object.defineProperty;var J=Object.getOwnPropertyDescriptor;var Y=Object.getOwnPropertyNames;var Q=Object.prototype.hasOwnProperty;var V=(c,h)=>()=>(c&&(h=c(c=0)),h);var X=(c,h,j,p)=>{if(h&&typeof h=="object"||typeof h=="function")for(let l of Y(h))!Q.call(c,l)&&l!==j&&G(c,l,{get:()=>h[l],enumerable:!(p=J(h,l))||p.enumerable});return c},H=(c,h,j)=>(X(c,h,"default"),j&&X(j,h,"default"));var ee=c=>X(G({},"__esModule",{value:!0}),c);var M={};import*as et from"async_hooks";var Z=V(()=>{H(M,et)});import{__getNamedExports as te}from"../../../__next-on-pages-dist__/webpack/3a252789024301da0cd81da4b087e4e7.js";import{__getNamedExports as ne}from"../../../__next-on-pages-dist__/webpack/35ca8f597ed624e1d44d49013bcf9361.js";import{__getNamedExports as _e}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var b=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/best-of-day"),i=te(b,b,b),re=i.__chunk_4381,ae=i.__chunk_737,oe=i.__chunk_9470,ce=i.__chunk_2672,ue=i.__chunk_2600,se=i.__chunk_636,ie=i.__chunk_8364,he=i.__chunk_7246,de=i.__chunk_2855,pe=i.__chunk_6637,le=i.__chunk_9286,ke=i.__chunk_1554,fe=i.__chunk_1372,ge=i.__chunk_1751,me=i.__chunk_8260,ye=i.__chunk_7861,xe=i.__chunk_8568,be=i.__chunk_5779,Ee=i.__chunk_6044,ve=i.__chunk_2113,Ne=i.__chunk_4885,we=i.__chunk_709,Oe=i.__chunk_6493,s=ne(b,b,b),Re=s.__chunk_6195,Pe=s.__chunk_2067,Se=s.__chunk_3584,Ae=s.__chunk_8385,Ie=s.__chunk_9220,Te=s.__chunk_204,Ce=s.__chunk_4692,je=s.__chunk_3240,Fe=s.__chunk_1813,Le=s.__chunk_7425,Me=s.__chunk_2130,De=s.__chunk_8334,$e=s.__chunk_2055,Ue=s.__chunk_605,Be=s.__chunk_9701,Ke=s.__chunk_8751,qe=s.__chunk_2701,Xe=s.__chunk_3815,He=s.__chunk_515,We=s.__chunk_5833,Ge=s.__chunk_110,Ze=s.__chunk_7778,ze=s.__chunk_3822,Je=s.__chunk_7404,z=_e(b,b,b),Ye=z.__NEXT_FONT_MANIFEST,Qe=z.__REACT_LOADABLE_MANIFEST,rt=((c,h,j)=>(h._ENTRIES={},c.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-a8a79f4b48a6258d.js","static/chunks/f0b9fc38-a5883d99804ffe62.js","static/chunks/956-533891174582da63.js","static/chunks/main-app-9797fdcbbf05545e.js"],pages:{"/_app":["static/chunks/webpack-a8a79f4b48a6258d.js","static/chunks/framework-6e06c675866dc992.js","static/chunks/main-0351a49195323e92.js","static/chunks/pages/_app-adf0729047cd661e.js"],"/_error":["static/chunks/webpack-a8a79f4b48a6258d.js","static/chunks/framework-6e06c675866dc992.js","static/chunks/main-0351a49195323e92.js","static/chunks/pages/_error-e4400510ef24a1c3.js"]},ampFirstPages:[]},c.__BUILD_MANIFEST.lowPriorityFiles=["/static/2-bcSO4AOg7T1H4OyX1op/_buildManifest.js",,"/static/2-bcSO4AOg7T1H4OyX1op/_ssgManifest.js"],c.__REACT_LOADABLE_MANIFEST=Qe,c.__NEXT_FONT_MANIFEST=Ye,c.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var p={},l={};function r(t){var u=l[t];if(u!==void 0)return u.exports;var o=l[t]={exports:{}},k=!0;try{p[t](o,o.exports,r),k=!1}finally{k&&delete l[t]}return o.exports}r.m=p,(()=>{var t=[];r.O=(u,o,k,f)=>{if(o){f=f||0;for(var d=t.length;d>0&&t[d-1][2]>f;d--)t[d]=t[d-1];t[d]=[o,k,f];return}for(var m=1/0,d=0;d<t.length;d++){for(var[o,k,f]=t[d],E=!0,x=0;x<o.length;x++)m>=f&&Object.keys(r.O).every(C=>r.O[C](o[x]))?o.splice(x--,1):(E=!1,f<m&&(m=f));if(E){t.splice(d--,1);var v=k();v!==void 0&&(u=v)}}return u}})(),r.n=t=>{var u=t&&t.__esModule?()=>t.default:()=>t;return r.d(u,{a:u}),u},r.d=(t,u)=>{for(var o in u)r.o(u,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:u[o]})},r.e=()=>Promise.resolve(),r.g=function(){if(typeof h=="object")return h;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),r.o=(t,u)=>Object.prototype.hasOwnProperty.call(t,u),r.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={993:0};r.O.j=k=>t[k]===0;var u=(k,f)=>{var d,m,[E,x,v]=f,S=0;if(E.some(T=>t[T]!==0)){for(d in x)r.o(x,d)&&(r.m[d]=x[d]);if(v)var I=v(r)}for(k&&k(f);S<E.length;S++)m=E[S],r.o(t,m)&&t[m]&&t[m][0](),t[m]=0;return r.O(I)},o=c.webpackChunk_N_E=c.webpackChunk_N_E||[];o.forEach(u.bind(null,0)),o.push=u.bind(null,o.push.bind(o))})()})(),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[776],{7404:Je,3822:ze,7778:Ze,110:Ge,5833:We,515:He,3815:Xe,2701:qe,8751:Ke,9701:Be,605:Ue,2055:$e,8334:De,2130:Me,7425:Le,1813:Fe,3240:je,4692:Ce,204:Te,9220:Ie,8385:Ae,3584:Se}]),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[481],{6493:Oe,709:we,4885:Ne,2113:ve,6044:Ee,5779:be,8568:xe,7861:ye,8260:me,1751:ge,1372:fe,1554:ke,9286:le,6637:pe,2855:de,7246:he,8364:ie,636:se,2600:ue,2672:ce,9470:oe,737:ae}]),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[526],{2067:Pe,6195:Re,6671:(p,l,r)=>{"use strict";r.r(l),r.d(l,{ComponentMod:()=>$,default:()=>U});var t={};r.r(t),r.d(t,{GET:()=>x,runtime:()=>E});var u={};r.r(u),r.d(u,{originalPathname:()=>F,patchFetch:()=>C,requestAsyncStorage:()=>S,routeModule:()=>v,serverHooks:()=>T,staticGenerationAsyncStorage:()=>I});var o=r(6637),k=r(1554),f=r(2130),d=r(7425),m=r(4381);let E="edge";async function x(B){let D=(0,m.O)(),{startIso:K,endIso:q}=function(L="America/Los_Angeles"){let w=new Date,e=new Intl.DateTimeFormat("en-US",{timeZone:L,year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(w),a=Number(e.find(y=>y.type==="year")?.value),_=Number(e.find(y=>y.type==="month")?.value)-1,n=Number(e.find(y=>y.type==="day")?.value),N=new Date(a,_,n);new Intl.DateTimeFormat("en-US",{timeZone:L,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});let g=new Date(a,_,n,23,59,59);return{startIso:N.toISOString(),endIso:g.toISOString()}}(new URL(B.url).searchParams.get("tz")||D.APP_TIMEZONE||"America/Los_Angeles"),R=await D.DB.prepare("SELECT id, title, score, analysis_summary, created_at FROM ideas WHERE score IS NOT NULL AND datetime(created_at) BETWEEN datetime(?) AND datetime(?) ORDER BY score DESC, created_at ASC LIMIT 1").bind(K,q).all();return new Response(JSON.stringify(R.results?.[0]??null),{status:200})}let v=new k.AppRouteRouteModule({definition:{kind:f.x.APP_ROUTE,page:"/api/best-of-day/route",pathname:"/api/best-of-day",filename:"route",bundlePath:"app/api/best-of-day/route"},resolvedPagePath:"/home/noob/FoundrCheck/app/api/best-of-day/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:S,staticGenerationAsyncStorage:I,serverHooks:T}=v,F="/api/best-of-day/route";function C(){return(0,d.XH)({serverHooks:T,staticGenerationAsyncStorage:I})}let $=u,U=o.a.wrap(v)},4381:re},p=>{var l=t=>p(p.s=t);p.O(0,[776,481],()=>l(6671));var r=p.O();(h._ENTRIES=typeof h._ENTRIES>"u"?{}:h._ENTRIES)["middleware_app/api/best-of-day/route"]=r}]),function(){let p={exports:{},loaded:!1};return function(r,t){var u=Object.create,o=Object.defineProperty,k=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,d=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,E=e=>o(e,"__esModule",{value:!0}),x=(e,a)=>{E(e);for(var _ in a)o(e,_,{get:a[_],enumerable:!0})},v=(e,a,_)=>{if(a&&typeof a=="object"||typeof a=="function")for(let n of f(a))!m.call(e,n)&&n!=="default"&&o(e,n,{get:()=>a[n],enumerable:!(_=k(a,n))||_.enumerable});return e},S=e=>v(E(o(e!=null?u(d(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);x(t,{default:()=>q});var I=S((Z(),ee(M))),T="@next/request-context",F=Symbol.for(T),C=Symbol.for("internal.storage");function $(){let e=h;if(!e[F]){let a=new I.AsyncLocalStorage,_={get:()=>a.getStore(),[C]:a};e[F]=_}return e[F]}var U=$();function B(e,a){return U[C].run(e,a)}function D(e){let a={};return e&&e.forEach((_,n)=>{a[n]=_,n.toLowerCase()==="set-cookie"&&(a[n]=K(_))}),a}function K(e){let a=[],_=0,n,N,g,y,A;function O(){for(;_<e.length&&/\s/.test(e.charAt(_));)_+=1;return _<e.length}function P(){return N=e.charAt(_),N!=="="&&N!==";"&&N!==","}for(;_<e.length;){for(n=_,A=!1;O();)if(N=e.charAt(_),N===","){for(g=_,_+=1,O(),y=_;_<e.length&&P();)_+=1;_<e.length&&e.charAt(_)==="="?(A=!0,_=y,a.push(e.substring(n,g)),n=_):_=g+1}else _+=1;(!A||_>=e.length)&&a.push(e.substring(n,e.length))}return a}function q(e){let a=e.staticRoutes.map(n=>({regexp:new RegExp(n.namedRegex),page:n.page})),_=e.dynamicRoutes?.map(n=>({regexp:new RegExp(n.namedRegex),page:n.page}))||[];return async function(n,N){let g=new URL(n.url).pathname,y={};if(e.nextConfig?.basePath&&g.startsWith(e.nextConfig.basePath)&&(g=g.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let O of e.nextConfig.i18n.locales){let P=new RegExp(`^/${O}($|/)`,"i");if(g.match(P)){g=g.replace(P,"/")||"/";break}}for(let O of a)if(O.regexp.exec(g)){y.name=O.page;break}if(!y.name){let O=L(g);for(let P of _||[]){if(O&&!L(P.page))continue;let W=P.regexp.exec(g);if(W){y={name:P.page,params:W.groups};break}}}let A=await B({waitUntil:N.waitUntil},()=>h._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:n.url,method:n.method,headers:D(n.headers),ip:R(n.headers,w.Ip),geo:{city:R(n.headers,w.City,!0),country:R(n.headers,w.Country,!0),latitude:R(n.headers,w.Latitude),longitude:R(n.headers,w.Longitude),region:R(n.headers,w.Region,!0)},nextConfig:e.nextConfig,page:y,body:n.body}}));return A.waitUntil&&N.waitUntil(A.waitUntil),A.response}}function R(e,a,_=!1){let n=e.get(a)||void 0;return _&&n?decodeURIComponent(n):n}function L(e){return e==="/api"||e.startsWith("/api/")}var w;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(w||(w={}))}(p,p.exports),p.exports}.call({}).default({name:"app/api/best-of-day/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/leaderboard",regex:"^/leaderboard(?:/)?$",routeKeys:{},namedRegex:"^/leaderboard(?:/)?$"},{page:"/profile",regex:"^/profile(?:/)?$",routeKeys:{},namedRegex:"^/profile(?:/)?$"},{page:"/submit",regex:"^/submit(?:/)?$",routeKeys:{},namedRegex:"^/submit(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...lucia]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPlucia:"nxtPlucia"},namedRegex:"^/api/auth/(?<nxtPlucia>.+?)(?:/)?$"},{page:"/api/ideas/[id]",regex:"^/api/ideas/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/ideas/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/ideas/[id]",regex:"^/ideas/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/ideas/(?<nxtPid>[^/]+?)(?:/)?$"}],nextConfig:{basePath:""}})))(b,b,b);export{rt as default};
