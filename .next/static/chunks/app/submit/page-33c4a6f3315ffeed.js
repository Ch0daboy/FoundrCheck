(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[369],{5582:function(e,t,n){Promise.resolve().then(n.bind(n,5224))},5224:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i},runtime:function(){return s}});var a=n(3860),l=n(4595);let s="edge";function i(){let[e,t]=(0,l.useState)(""),[n,s]=(0,l.useState)(""),[i,r]=(0,l.useState)(!1),[u,o]=(0,l.useState)(null);async function d(t){t.preventDefault(),r(!0);try{var a,l;let t=(null===(l=window.turnstile)||void 0===l?void 0:null===(a=l.getResponse)||void 0===a?void 0:a.call(l))||"TEST",s=await fetch("/api/ideas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,description:n,turnstileToken:t})}),i=await s.json();o(i)}finally{r(!1)}}return(0,a.jsxs)("main",{className:"max-w-2xl mx-auto p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Submit an Idea"}),(0,a.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[(0,a.jsx)("input",{className:"w-full border rounded p-2",placeholder:"Title",value:e,onChange:e=>t(e.target.value),maxLength:120}),(0,a.jsx)("textarea",{className:"w-full border rounded p-2 min-h-[200px]",placeholder:"Describe your idea",value:n,onChange:e=>s(e.target.value),maxLength:2e3}),(0,a.jsx)("button",{disabled:i,className:"border rounded px-4 py-2",children:i?"Submitting...":"Submit"})]}),u&&(0,a.jsx)("pre",{className:"mt-6 text-xs bg-gray-100 p-3 rounded overflow-auto",children:JSON.stringify(u,null,2)})]})}}},function(e){e.O(0,[485,265,744],function(){return e(e.s=5582)}),_N_E=e.O()}]);