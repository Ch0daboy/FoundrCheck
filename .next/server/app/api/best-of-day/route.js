(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[526],{2067:e=>{"use strict";e.exports=require("node:async_hooks")},6195:e=>{"use strict";e.exports=require("node:buffer")},6671:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ComponentMod:()=>h,default:()=>_});var r={};a.r(r),a.d(r,{GET:()=>p,runtime:()=>l});var n={};a.r(n),a.d(n,{originalPathname:()=>g,patchFetch:()=>E,requestAsyncStorage:()=>c,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>f});var i=a(6637),o=a(1554),s=a(2130),u=a(7425),d=a(4381);let l="edge";async function p(e){let t=(0,d.O)(),{startIso:a,endIso:r}=function(e="America/Los_Angeles"){let t=new Date,a=new Intl.DateTimeFormat("en-US",{timeZone:e,year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(t),r=Number(a.find(e=>"year"===e.type)?.value),n=Number(a.find(e=>"month"===e.type)?.value)-1,i=Number(a.find(e=>"day"===e.type)?.value),o=new Date(r,n,i);new Intl.DateTimeFormat("en-US",{timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});let s=new Date(r,n,i,23,59,59);return{startIso:o.toISOString(),endIso:s.toISOString()}}(new URL(e.url).searchParams.get("tz")||t.APP_TIMEZONE||"America/Los_Angeles"),n=await t.DB.prepare("SELECT id, title, score, analysis_summary, created_at FROM ideas WHERE score IS NOT NULL AND datetime(created_at) BETWEEN datetime(?) AND datetime(?) ORDER BY score DESC, created_at ASC LIMIT 1").bind(a,r).all();return new Response(JSON.stringify(n.results?.[0]??null),{status:200})}let m=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/best-of-day/route",pathname:"/api/best-of-day",filename:"route",bundlePath:"app/api/best-of-day/route"},resolvedPagePath:"/home/noob/FoundrCheck/app/api/best-of-day/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:f,serverHooks:y}=m,g="/api/best-of-day/route";function E(){return(0,u.XH)({serverHooks:y,staticGenerationAsyncStorage:f})}let h=n,_=i.a.wrap(m)},4381:(e,t,a)=>{"use strict";a.d(t,{O:()=>n});var r=a(6493);function n(){return(0,r.getRequestContext)().env}}},e=>{var t=t=>e(e.s=t);e.O(0,[776,481],()=>t(6671));var a=e.O();(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES)["middleware_app/api/best-of-day/route"]=a}]);
//# sourceMappingURL=route.js.map